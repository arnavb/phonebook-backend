{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","value","handleChange","onChange","event","target","PersonForm","handleSubmit","useState","newName","setNewName","newPhoneNumber","setNewPhoneNumber","onSubmit","preventDefault","type","Persons","persons","filter","handlePersonRemoval","person","name","toLowerCase","includes","map","number","onClick","id","Notification","message","notificationStyle","color","failureNotification","background","fontSize","border","borderRadius","padding","marginBottom","style","baseUrl","exported","getAll","axios","get","then","response","data","create","newPerson","post","update","put","remove","delete","App","setPersons","setFilter","notificationMessage","setNotificationMessage","setFailureNotification","notify","failure","setTimeout","useEffect","personsService","initialPersons","updateExistingPerson","correspondingPerson","find","updatedPerson","catch","error","some","window","confirm","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.cf3c9e4c.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Filter = ({value, handleChange}) => {\n  return (\n    <>\n      filter by name:{\" \"}\n      <input\n        value={value}\n        onChange={(event) => handleChange(event.target.value)}\n      />\n    </>\n  );\n};\n\nexport default Filter;\n","import React, { useState } from \"react\";\n\nconst PersonForm = ({ handleSubmit }) => {\n  const [newName, setNewName] = useState(\"\");\n  const [newPhoneNumber, setNewPhoneNumber] = useState(\"\");\n\n  return (\n    <form\n      onSubmit={(event) => {\n        event.preventDefault();\n        handleSubmit(newName, newPhoneNumber);\n        setNewName(\"\");\n        setNewPhoneNumber(\"\");\n      }}\n    >\n      <div>\n        name:{\" \"}\n        <input\n          value={newName}\n          onChange={(event) => setNewName(event.target.value)}\n        />\n        <br />\n        phone number:{\" \"}\n        <input\n          value={newPhoneNumber}\n          onChange={(event) => setNewPhoneNumber(event.target.value)}\n        />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  );\n};\n\nexport default PersonForm;\n","import React from \"react\";\n\nconst Persons = ({ persons, filter, handlePersonRemoval }) => {\n  return persons\n    .filter((person) =>\n      person.name.toLowerCase().includes(filter.toLowerCase())\n    )\n    .map((person) => (\n      <li key={person.id}>\n        {person.name} {person.number}\n        <button onClick={(event) => handlePersonRemoval(person.id)}>\n          delete\n        </button>\n      </li>\n    ));\n};\n\nexport default Persons;\n","import React from \"react\";\n\nconst Notification = ({ message, failureNotification }) => {\n  const notificationStyle = {\n    color: failureNotification ? \"red\" : \"green\",\n    background: \"lightgrey\",\n    fontSize: \"20px\",\n    border: \"5px solid\",\n    borderRadius: \"5px\",\n    padding: \"10px\",\n    marginBottom: \"10px\",\n  };\n\n  return <div style={notificationStyle}>{message}</div>;\n};\n\nexport default Notification;\n","import axios from \"axios\";\nconst baseUrl = \"/api/persons\";\n\nconst getAll = () => {\n  return axios.get(baseUrl).then((response) => response.data);\n};\n\nconst create = (newPerson) => {\n  return axios.post(baseUrl, newPerson).then((response) => response.data);\n};\n\nconst update = (id, newPerson) => {\n  return axios\n    .put(`${baseUrl}/${id}`, newPerson)\n    .then((response) => response.data);\n};\n\nconst remove = (id) => {\n  return axios.delete(`${baseUrl}/${id}`);\n};\n\nconst exported = { getAll, create, update, remove };\nexport default exported;\n","import React, { useEffect, useState } from \"react\";\nimport Filter from \"./components/Filter\";\nimport PersonForm from \"./components/PersonForm\";\nimport Persons from \"./components/Persons\";\nimport Notification from \"./components/Notification\";\nimport personsService from \"./services/persons\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [filter, setFilter] = useState(\"\");\n  const [notificationMessage, setNotificationMessage] = useState(\"\");\n  const [failureNotification, setFailureNotification] = useState(false);\n\n  const notify = (message, failure = false) => {\n    setNotificationMessage(message);\n    setFailureNotification(failure);\n\n    setTimeout(() => {\n      setNotificationMessage(\"\");\n      setFailureNotification(false);\n    }, 5000);\n  };\n\n  useEffect(() => {\n    personsService\n      .getAll()\n      .then((initialPersons) => setPersons(initialPersons));\n  }, []);\n\n  const addNewPerson = (newName, newPhoneNumber) => {\n    if (persons.some((person) => person.name === newName)) {\n      if (\n        window.confirm(\n          `${newName} is already in the phonebook. Update their phone number?`\n        )\n      ) {\n        updateExistingPerson(newName, newPhoneNumber);\n      }\n    } else {\n      personsService\n        .create({ name: newName, number: newPhoneNumber })\n        .then((newPerson) => {\n          setPersons([...persons, newPerson]);\n          notify(`Successfully added ${newName}`);\n        })\n        .catch((error) => {\n          notify(error.response.data.error, true);\n        });\n    }\n  };\n\n  const updateExistingPerson = (name, newPhoneNumber) => {\n    const correspondingPerson = persons.find((person) => person.name === name);\n    personsService\n      .update(correspondingPerson.id, {\n        ...correspondingPerson,\n        name,\n        number: newPhoneNumber,\n      })\n      .then((updatedPerson) => {\n        setPersons(\n          persons.map((person) =>\n            person.id === updatedPerson.id ? updatedPerson : person\n          )\n        );\n        notify(`Successfully changed phone number for ${name}`);\n      })\n      .catch((error) => {\n        if (error.response.data.error) {\n          notify(error.response.data.error, true);\n        } else {\n          notify(`${name} was already removed from the server!`, true);\n\n          setPersons(\n            persons.filter((person) => person.id !== correspondingPerson.id)\n          );\n        }\n      });\n  };\n\n  const removePerson = (id) => {\n    const correspondingPerson = persons.find((person) => person.id === id);\n\n    if (window.confirm(`Delete ${correspondingPerson.name}?`)) {\n      personsService.remove(id).then(() => {\n        setPersons(persons.filter((person) => person.id !== id));\n      });\n    }\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      {notificationMessage && (\n        <Notification\n          message={notificationMessage}\n          failureNotification={failureNotification}\n        />\n      )}\n      <Filter value={filter} handleChange={setFilter} />\n      <h2>Add a new person</h2>\n      <PersonForm handleSubmit={addNewPerson} />\n      <h2>Numbers</h2>\n      <Persons\n        persons={persons}\n        filter={filter}\n        handlePersonRemoval={removePerson}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}